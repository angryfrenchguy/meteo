<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css" type="text/css">
    <title>Météo</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>

<body id="body">
    
    <div id="info">
    <h1>Tu es à <span id="ou"></span>, comme disent les Anglais.</h1><br>
        <h2>Il y fait <span id="deg"></span> degrés et <span id="quoi"></span>.</h2><br>
        
        <form>
           <button id="F">C°/F°</button>
        </form>
        
        
        
    </div>
    
    <script>
        
    $(document).ready(function() {
        
        var url, ville, lon, lat, unit;

         $.getJSON('http://ip-api.com/json', function(json) {
             
             lat = json.lat;
             lon = json.lon;
             unit = "metric";
             url = "http://api.openweathermap.org/data/2.5/weather?lat=" + lat + "&lon=" + lon + "&units=" + unit + "&lang=fr&appid=2b4fcb9736891fa6e1643a3388516387";
             
             
                 
             $.getJSON(url, function(data) {
                 
                 var temperature = data.weather[0].description;
                 var deg = data.main.temp;
                 var ville = data.name;
                 var main = data.weather[0].main;
                 
                 
                 $("#ou").html(ville); 
                 $("#quoi").html(temperature);
                 $("#deg").html(Math.round(deg));
                 
                 console.log(temperature);
                 console.log(url);
                 
                 switch (main) {
                     case "Thunderstorm":
                         $("html").css("background-image", 'url("https://www.2tout2rien.fr/wp-content/uploads/2014/01/terrifiantes-et-superbes-photos-de-tempete-qui-arrive-18.jpg")');
                         break; 
                         
                         case "Drizzle":
                         $("html").css("background-image", 'url("https://uphilldowndale.files.wordpress.com/2008/04/shades-of-grey.jpg")');
                         break;
                        
                     case "Clear":
                         $("html").css("background-image", 'url("http://wallpaperlayer.com/img/2015/7/lovely-green-landscape-6948-7229-hd-wallpapers.jpg")');
                         break;
                         
                     case "Clouds":
                         $("html").css("background-image",'url("https://choualbox.com/Img/20130310150214U.jpg")');
                         break;
                         
                    case "Snow":
                         $("html").css("background-image",'url("http://kevenroy.ca/wp-content/uploads/2016/02/121221_de4ds_ste-adele-neige_sn1250.jpg")');
                         break;
                         
                     case "Additional":
                         $("html").css("background-image", 'url("http://farm6.staticflickr.com/5294/5466322673_cd2460e257_o.jpg")');
                         break;
                         
                     case "Extreme":
                         $("html").css("background-image",'url("http://www.meteocity.com/medias/magazine/articles/original/tornade-moselle2.jpg")');
                         break;
                         
                     case "Rain":
                         $("html").css("background-image",'url("https://i.ytimg.com/vi/9qhIGeichIM/maxresdefault.jpg")');
                         break;
                 };   
                 
                 
                 
             });
         });
        
        $('input[type=radio][name=fahrenheit-celcius]')
        
    });
     
    
    </script>
    
</body>
</html>